@page "/todo";
@using Microsoft.Fast.Components.FluentUI

<h3>Todo (@todos.Count(todo => !todo.IsDone)) </h3>

<ul>
    @foreach (var todo in todos)
    {
        <li>
            <FluentCheckbox Value="todo.IsDone" ></FluentCheckbox>
            <FluentTextField @bind-Value="todo.Title"></FluentTextField>
        </li>
    }
</ul>

<FluentTextField Placeholder="Something todo" @bind-Value="newTodo"></FluentTextField>
<FluentButton Appearance="@Appearance.Accent" @onclick="AddTodo">Add Todo</FluentButton>

@code {
    private List<TodoItem> todos = new();

    private string? newTodo;

    private void AddTodo()
    {
        if (!string.IsNullOrWhiteSpace(newTodo))
        {
            todos.Add(new TodoItem
            {
                Title = newTodo,
                IsDone = false
            });
        }
        newTodo = string.Empty;
    }
}
